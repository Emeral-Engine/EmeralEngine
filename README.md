<p align="center">
  <img src="img/EmeralEngine.png" alt="EmeralEngine アイコン"/>
</p>

# 💎EmeralEngine
`EmeralEngine`はWindows向けのノベルゲームエンジン、及びスクリプターです。

# 特徴
### 1.完全ノーコードでのゲーム制作が可能
シナリオだけに注力することができます。

### 2.軽量
サクサク動きます。

### 3.スクリプトを任意のデータ形式で出力可能
ノベルゲームを作るためでなくとも、スクリプターとして活用することが出来ます。

# 対応プラットフォーム
- Windows10, 11

# 導入について
以下の2つを導入する必要があります。

- .NET SDK 9
- `EmeralEngine`本体

# .NET SDKの導入

1. Windowsキー+Rキーを同時押し
2. `cmd`と入力しエンターキーを押す
3. 出てきたコマンドプロンプトに以下のコマンドを入力しエンターキーを押す

```cmd
winget install --id Microsoft.DotNet.SDK.9
```

4. `dotnet --version`と打ってバージョン情報が出てくることを確認する

もしwingetコマンドが無い場合は、[公式サイト](https://dotnet.microsoft.com/ja-jp/download)よりインストーラーをダウンロード、インストールしてください。
バージョンは9です。

## EmeralEngineの導入
1. [リリースページ](https://github.com/Emeral-Engine/EmeralEngine/releases/latest)より`EmeralEngine-dist.zip`をダウンロードし解凍
2. `EmeralEngine.exe`をダブルクリック

# 使い方
## プロジェクトの作成
解凍したものの中の`EmeralEngine.exe`をクリックすると、プロジェクトの選択画面が出てくると思います。
初回はまだプロジェクトが作成されてませんので、「新規」を押してプロジェクトを作りましょう。

名前とウィンドウサイズを決めて「作成」を押すと、プロジェクトの作成が始まります。（どちらも後から変更可能です）

## スクリプトを書く
デフォルトでは、プロジェクトが作成されると2つサブウィンドウが出てきます。

この内の一つ、スクリプトエディターはスクリプトを記述するウィンドウです。
左がタイムライン、中央上が立ち絵設定、中央下がスクリプト、右上半分がメモ(本文に表示されません)、右下が各種ボタンとなっています。


## シーンを作る
最初に出てきた2つのウィンドウの内のもう一つはシーンエディターです。こちらではシーンの作成、削除、もしくはシーンに関する設定(背景、BGM、トランジション等)を行うことが出来ます。このシーンという概念は、「BGMや背景が同じ一連のスクリプトをまとめる」為に存在しています。逆に言えば、背景やBGMを変えたければ、新しくシーンを作成する必要があります。

また、シーンにはトランジションという設定項目があり、次のシーンとの間やフェードアウト、フェードインの設定が可能です。

## 実行
さて、上記2つだけでも色々とやることができると思います。ここで、どんな感じになるのか見てみましょう。

メインウィンドウの右上の実行ボタン(三角形)をクリックすると、現在選択中のシーンからどんな感じになるのか、プレビューを見ることができます。

## メッセージウィンドウをデザインする
プレビューを見て分かりますが、デフォルトのメッセージウィンドウは少し無機質な感じがしますよね。そんなときは自分でカスタマイズしましょう。

メニューバーの「表示」から「メッセージウィンドウデザイナー」をクリックしてください。ここではメッセージウィンドウに関する各種設定を変更することができます。

## 全体の流れを決める
「シーン」の集まりのことを「エピソード」と言います。
皆さんがここまでで追加してきた「シーン」も、デフォルトで作成されるエピソードのなかにあります。「ストーリーエディター」では、そんな「エピソード」や「動画」をどの順に流すか決めることができます。

メニューバーの「表示」より「ストーリーエディター」を選択してください。ここでは「コンテンツ」という単位で「エピソード」、もしくは「動画」を流す流れを決めていきます。

## タイトル画面を作る
タイトル画面は必要ですよね。

メニューバーの「表示」から「タイトル画面デザイナー」を選択してください。
ここではタイトル画面を編集する事ができます。
ボタンのテーマは2種類あり、一つはデフォルト、もう一つはカスタムボタンです。
また、その他画像は自由に配置、リサイズできます。

## 出力
ある程度形になってきたら出力してみましょう。

メニューの「ファイル」、「出力」から「実行ファイル」をクリックしてください。出力先のディレクトリを選択するとビルドが始まります。

# 独自概念について
さて、ここまで説明してきた「スクリプト」、「シーン」、「エピソード」、「コンテンツ」について、改めてまとめます。

### スクリプト
- 最小単位
- セリフや立ち絵の情報を含みます

### シーン
- スクリプトをまとめたもの
- すべて背景やBGMが同じ
- トランジションの情報を含む

### エピソード
- シーンをまとめたもの

### コンテンツ
- 「エピソード」、もしくは「動画」のこと
- この単位を基準に、どの順にゲームを進めて行くかを決めます
- トランジションの情報を含みます

# 拡張子の関連付けについて
拡張子を関連付けると、プロジェクトファイル`project.emeral`をダブルクリックし`EmeralEngine`で開くことが出来ます。

1. エクスプローラー上で任意のプロジェクトの`project.emeral`を右クリックし、「プログラムから開く」→「別のプログラムを選択」
2. ページ下部の「PCでアプリを選択する」をクリック
3. `EmeralEngine.exe`を選択
4. 再び1の操作を行う
5. `EmeralEngine`を選択し、「常に使う」を選ぶ

なお`EmeralEngine`の場所を移動した場合は、再度この手順を行ってください。

# 開発者向け
[README_DEVELOPERS.md](./README_DEVELOPERS.md)を参照してください。

ここには「生成物のコードを改変する方法」も含みます。

# アップデートについて
`EmeralEngine`本体を導入するのと同じ手順を踏んでください。

# バグ報告、及び機能要望について
[Issue](https://github.com/Emeral-Engine/EmeralEngine/issues)よりテンプレートに従いお願いします。
機能改善要望は「Feature request」と同じテンプレートを使ってください。

# ライセンス
[MIT License](LICENSE)
